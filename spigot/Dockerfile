# Minecraft Spigot
FROM alpine:latest

# Configuration
ENV LANG=C.UTF-8 \
	\
	MINECRAFT_VERSION=latest \
	MINECRAFT_HOME=/minecraft \
	SPIGOT_DOWNLOAD="https://hub.spigotmc.org/jenkins/job/BuildTools/82/artifact/target/BuildTools.jar" \
	SPIGOT_DOWNLOAD_HASH="31f976713c2780df99377dd54317fe3a637018ea03bf61617736f3f23e162768"

# Run setup scripts.
COPY setup-tools.sh /tmp
RUN /tmp/setup-tools.sh

COPY setup-java.sh /tmp
RUN /tmp/setup-java.sh

COPY setup-spigot.sh /tmp
RUN /tmp/setup-spigot.sh

COPY setup-finalize.sh /tmp/finalize.sh
RUN /tmp/finalize.sh

# Run main.
COPY entry.sh /entry
ENTRYPOINT /entry

